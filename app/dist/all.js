!function(e){"use strict";e.module("myMovie",["myMovie.home_page","myMovie.details","myMovie.movie_list","myMovie.auto-active","ngRoute"]).controller("searchController",["$scope","$route",function(e,o){e.search=function(){o.updateParams({movieType:"search",q:e.query,m:"test"})}}])}(angular),function(e){"use strict";e.module("myMovie.details",["ngRoute","myMovie.jsonp"]).config(["$routeProvider",function(e){e.when("/details/:id",{templateUrl:"./details/view.html",controller:"detailsController"})}]).controller("detailsController",["$scope","$routeParams","jsonpService",function(e,o,t){t.myJsonp("http://api.douban.com/v2/movie/subject/"+o.id,null,function(o){e.data=o,e.$apply()})}])}(angular),function(e){e.module("myMovie.auto-active",[]).directive("autoActive",["$location",function(e){return{link:function(o,t,n){o.loca=e,o.$watch("loca.url()",function(e,o){var n=t.children()[0].href.split("#")[1];e.startsWith(n)&&(t.parent().children().removeClass("active"),t.addClass("active"))})}}}])}(angular),function(e){"use strict";e.module("myMovie.jsonp",[]).service("jsonpService",["$window",function(e){this.myJsonp=function(o,t,n){var i="&";t||(i="?");for(var a in t)i+=a+"="+t[a]+"&";var r="myJsonp_"+e.Math.random().toString().substr(2);e[r]=n,o+=i+"callback="+r;var l=e.document.createElement("script");l.src=o,e.document.body.appendChild(l)}}])}(angular),function(e){e.module("myMovie.home_page",["ngRoute"]).config(["$routeProvider",function(e){e.when("/home_page",{templateUrl:"./home_page/view.html",controller:"home_pageController"}).otherwise({redirectTo:"/home_page"})}]).controller("home_pageController",["$scope",function(e){}])}(angular),function(e){"use strict";e.module("myMovie.movie_list",["ngRoute","myMovie.jsonp"]).config(["$routeProvider",function(e){e.when("/:movieType/:page?",{templateUrl:"./movie_list/view.html",controller:"movie_listController"})}]).controller("movie_listController",["$scope","$http","$route","$routeParams","$window","jsonpService",function(e,o,t,n,i,a){e.loading=!1;var r=(n.page||"1")-0;e.page=r;var l=10*(r-1);a.myJsonp("http://api.douban.com/v2/movie/"+n.movieType+"?q="+n.q,{start:l,count:10},function(o){e.data=o,e.total=o.total,e.totalPage=i.Math.ceil(e.total/o.count),e.loading=!0,e.$apply()}),e.getPage=function(o){o<1||o>e.totalPage||t.updateParams({page:o})}}])}(angular);